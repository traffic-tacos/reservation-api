# ğŸŒ® Traffic Tacos Reservation API

> **30k RPS ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì„ ìœ„í•œ ê³ ì„±ëŠ¥ ì˜ˆì•½ ì‹œìŠ¤í…œ**  
> Kotlin + Spring Boot WebFlux ê¸°ë°˜ì˜ Cloud-Native ë¦¬ì•¡í‹°ë¸Œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.5-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Kotlin](https://img.shields.io/badge/Kotlin-1.9.25-blue.svg)](https://kotlinlang.org/)
[![WebFlux](https://img.shields.io/badge/WebFlux-Reactive-orange.svg)](https://docs.spring.io/spring-framework/reference/web/webflux.html)
[![gRPC](https://img.shields.io/badge/gRPC-Protocol-lightgrey.svg)](https://grpc.io/)
[![AWS](https://img.shields.io/badge/AWS-Cloud%20Native-yellow.svg)](https://aws.amazon.com/)

---

## ğŸ“– ëª©ì°¨

- [í”„ë¡œì íŠ¸ ë¹„ì „](#-í”„ë¡œì íŠ¸-ë¹„ì „)
- [í•µì‹¬ ê¸°ìˆ  ì„ íƒê³¼ ì„¤ê³„ ì² í•™](#-í•µì‹¬-ê¸°ìˆ -ì„ íƒê³¼-ì„¤ê³„-ì² í•™)
- [ì•„í‚¤í…ì²˜ ê¹Šì´ ë“¤ì—¬ë‹¤ë³´ê¸°](#-ì•„í‚¤í…ì²˜-ê¹Šì´-ë“¤ì—¬ë‹¤ë³´ê¸°)
- [êµ¬í˜„ëœ ê¸°ëŠ¥](#-êµ¬í˜„ëœ-ê¸°ëŠ¥)
- [ë¹ ë¥¸ ì‹œì‘](#-ë¹ ë¥¸-ì‹œì‘)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ì„¤ì • ê°€ì´ë“œ](#-ì„¤ì •-ê°€ì´ë“œ)
- [í…ŒìŠ¤íŠ¸ ì „ëµ](#-í…ŒìŠ¤íŠ¸-ì „ëµ)
- [ê´€ì¸¡ì„±ê³¼ ëª¨ë‹ˆí„°ë§](#-ê´€ì¸¡ì„±ê³¼-ëª¨ë‹ˆí„°ë§)
- [í”„ë¡œë•ì…˜ ìš´ì˜ ê°€ì´ë“œ](#-í”„ë¡œë•ì…˜-ìš´ì˜-ê°€ì´ë“œ)
- [ì„±ëŠ¥ ìµœì í™” ê¸°ë²•](#-ì„±ëŠ¥-ìµœì í™”-ê¸°ë²•)
- [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#-íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ë¹„ì „

### ì™œ ì´ í”„ë¡œì íŠ¸ê°€ íŠ¹ë³„í•œê°€?

Traffic Tacos Reservation APIëŠ” ë‹¨ìˆœí•œ ì˜ˆì•½ ì‹œìŠ¤í…œì„ ë„˜ì–´, **ëŒ€ê·œëª¨ íŠ¸ë˜í”½ í™˜ê²½ì—ì„œì˜ ì‹¤ì „ ì„¤ê³„ ê³ ë¯¼**ì„ ë‹´ì€ ë ˆí¼ëŸ°ìŠ¤ ì•„í‚¤í…ì²˜ì…ë‹ˆë‹¤.

```
"30,000 RPS íŠ¸ë˜í”½ í­ì£¼ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ 
 ì–´ë–»ê²Œ ì•ˆì •ì ì´ê³  í™•ì¥ ê°€ëŠ¥í•œ ì‹œìŠ¤í…œì„ ë§Œë“¤ ê²ƒì¸ê°€?"
```

ì´ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µì„ ì°¾ëŠ” ì—¬ì •ì—ì„œ ë‹¤ìŒ í•µì‹¬ ê³¼ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤:

#### ğŸª ì‹¤ì „ ë¹„ì¦ˆë‹ˆìŠ¤ ë¬¸ì œ
- **60ì´ˆ í™€ë“œ ë©”ì»¤ë‹ˆì¦˜**: ì‚¬ìš©ìê°€ ì¢Œì„ì„ ì„ íƒí•˜ê³  ê²°ì œí•˜ê¸°ê¹Œì§€ì˜ ìœ í•œí•œ ì‹œê°„
- **ì˜¤ë²„ì…€ ì œë¡œ ë³´ì¥**: ë™ì‹œì„± ì œì–´ì™€ ë¶„ì‚° íŠ¸ëœì­ì…˜
- **ë©±ë“±ì„± ë³´ì¥**: ë„¤íŠ¸ì›Œí¬ ì¬ì‹œë„ë¡œ ì¸í•œ ì¤‘ë³µ ì˜ˆì•½ ë°©ì§€
- **ìë™ ë§Œë£Œ ì²˜ë¦¬**: 60ì´ˆ í›„ ì •í™•í•œ ë¦¬ì†ŒìŠ¤ íšŒìˆ˜

#### ğŸ—ï¸ ê¸°ìˆ ì  ë„ì „
- **30k RPS ì²˜ë¦¬**: ì™„ì „ ë…¼ë¸”ë¡œí‚¹ ë¦¬ì•¡í‹°ë¸Œ ì•„í‚¤í…ì²˜
- **ì €ì§€ì—° í†µì‹ **: gRPCë¥¼ í†µí•œ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°„ P95 < 250ms
- **ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜**: ëŠìŠ¨í•œ ê²°í•©ê³¼ í™•ì¥ì„±
- **ê´€ì¸¡ ê°€ëŠ¥ì„±**: ë¶„ì‚° ì¶”ì ê³¼ ì‹¤ì‹œê°„ ë©”íŠ¸ë¦­

---

## ğŸ’¡ í•µì‹¬ ê¸°ìˆ  ì„ íƒê³¼ ì„¤ê³„ ì² í•™

### 1. ì™œ Kotlin + Spring Boot WebFluxì¸ê°€?

#### Kotlinì˜ ì„ íƒ ì´ìœ 
```kotlin
// âœ… Coroutineìœ¼ë¡œ ê°„ê²°í•œ ë¹„ë™ê¸° ì½”ë“œ
suspend fun createReservation(request: CreateReservationRequest): Response {
    val availability = inventoryService.checkAvailability(request)  // ë…¼ë¸”ë¡œí‚¹
    val reservation = reservationRepository.save(...)                // ë…¼ë¸”ë¡œí‚¹
    return Response(reservation)
}

// âŒ Javaì˜ ê²½ìš° (Reactor)
public Mono<Response> createReservation(CreateReservationRequest request) {
    return inventoryService.checkAvailability(request)
        .flatMap(availability -> reservationRepository.save(...))
        .map(reservation -> new Response(reservation));
}
```

**Kotlinì˜ ì¥ì **:
- **ê°„ê²°ì„±**: Null ì•ˆì „ì„±, Data class, Smart cast
- **Coroutine**: ë™ê¸° ìŠ¤íƒ€ì¼ë¡œ ë¹„ë™ê¸° ì½”ë“œ ì‘ì„± (ê°€ë…ì„± â†‘)
- **DSL ì§€ì›**: Gradle Kotlin DSL, íƒ€ì… ì•ˆì „í•œ ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
- **Java ìƒí˜¸ìš´ìš©ì„±**: ê¸°ì¡´ Spring ìƒíƒœê³„ 100% í™œìš©

#### WebFluxì˜ ì„ íƒ ì´ìœ 
```
ì „í†µì ì¸ Servlet Stack (Thread-per-Request)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ìš”ì²­ 1 â†’ Thread 1 (Blocking I/O)   â”‚  
â”‚  ìš”ì²­ 2 â†’ Thread 2 (Blocking I/O)   â”‚  <- ìŠ¤ë ˆë“œ ìˆ˜ = ë™ì‹œ ì²˜ë¦¬ëŸ‰
â”‚  ìš”ì²­ 3 â†’ Thread 3 (Blocking I/O)   â”‚     (ì˜ˆ: 200 threads = 200 RPS)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Reactive Stack (Event Loop)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Event Loop (4~8 threads)           â”‚
â”‚  â”œâ”€ ìš”ì²­ 1 (Non-blocking I/O)       â”‚  <- ìŠ¤ë ˆë“œ ìˆ˜ << ë™ì‹œ ì²˜ë¦¬ëŸ‰
â”‚  â”œâ”€ ìš”ì²­ 2 (Non-blocking I/O)       â”‚     (ì˜ˆ: 8 threads = 30k RPS)
â”‚  â””â”€ ìš”ì²­ 3 (Non-blocking I/O)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**WebFluxì˜ ì¥ì **:
- **ê³ ì²˜ë¦¬ëŸ‰**: ì ì€ ìŠ¤ë ˆë“œë¡œ ë§ì€ ìš”ì²­ ì²˜ë¦¬ (30k RPS ëª©í‘œ)
- **ë‚®ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©**: ë©”ëª¨ë¦¬ì™€ ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ìµœì†Œí™”
- **Backpressure**: ê³¼ë¶€í•˜ ìƒí™©ì—ì„œ ìš°ì•„í•œ ì²˜ë¦¬

### 2. ì™œ gRPCì¸ê°€?

#### REST vs gRPC ë¹„êµ
```
REST (HTTP/1.1 + JSON)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /v1/inventory/check             â”‚
â”‚ Content-Type: application/json       â”‚
â”‚                                      â”‚
â”‚ {"eventId": "evt_123",               â”‚  <- í…ìŠ¤íŠ¸ ê¸°ë°˜, íŒŒì‹± ì˜¤ë²„í—¤ë“œ
â”‚  "quantity": 2,                      â”‚     í‰ê·  ~150ms
â”‚  "seatIds": ["A-1", "A-2"]}          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

gRPC (HTTP/2 + Protobuf)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CheckAvailabilityRequest {           â”‚
â”‚   event_id: "evt_123"                â”‚  <- ë°”ì´ë„ˆë¦¬, íƒ€ì… ì•ˆì „
â”‚   quantity: 2                        â”‚     í‰ê·  ~40ms
â”‚   seat_ids: ["A-1", "A-2"]           â”‚
â”‚ }                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**gRPCì˜ ì¥ì **:
- **ì„±ëŠ¥**: ProtobufëŠ” JSON ëŒ€ë¹„ 3~5ë°° ë¹ ë¥¸ ì§ë ¬í™”
- **íƒ€ì… ì•ˆì „**: ì»´íŒŒì¼ íƒ€ì„ì— ê³„ì•½ ê²€ì¦ (proto-contracts)
- **HTTP/2**: Multiplexing, Server Push, Header Compression
- **ìŠ¤íŠ¸ë¦¬ë°**: Bi-directional streaming ì§€ì› (í–¥í›„ ì‹¤ì‹œê°„ ê¸°ëŠ¥)

**ìš°ë¦¬ì˜ ì„ íƒ**:
```kotlin
// inventory-api (í¬íŠ¸ 8021)ì™€ì˜ gRPC í†µì‹ 
@Service
class InventoryGrpcService(
    @GrpcClient("inventory-service") 
    private val inventoryStub: InventoryServiceGrpcKt.InventoryServiceCoroutineStub
) {
    suspend fun checkAvailability(request: CheckAvailabilityRequest): CheckAvailabilityResponse {
        return withTimeout(250) {  // íƒ€ì„ì•„ì›ƒ 250ms
            inventoryStub.checkAvailability(request)
        }
    }
}
```

### 3. ì™œ DynamoDBì¸ê°€?

#### ê´€ê³„í˜• DB vs NoSQL íŠ¸ë ˆì´ë“œì˜¤í”„

**RDS (ê´€ê³„í˜• DB)ì˜ í•œê³„**:
```sql
-- 30k RPSì—ì„œ ë™ì‹œì„± ì œì–´
BEGIN TRANSACTION;
SELECT * FROM reservations WHERE reservation_id = ? FOR UPDATE;  -- Row Lock
UPDATE reservations SET status = 'CONFIRMED' ...;
COMMIT;

-- ë¬¸ì œì :
-- 1. Lock contention (ëŒ€ê¸° ì‹œê°„ ì¦ê°€)
-- 2. Connection pool ê³ ê°ˆ (ìˆ˜ë°±~ìˆ˜ì²œ ì»¤ë„¥ì…˜ í•„ìš”)
-- 3. ìˆ˜ì§ í™•ì¥ì˜ í•œê³„ (Scale-upë§Œ ê°€ëŠ¥)
```

**DynamoDBì˜ ì¥ì **:
```kotlin
// Partition Key ê¸°ë°˜ O(1) ì¡°íšŒ, ìë™ ìƒ¤ë”©
val reservation = dynamoDbTable.getItem(
    Key.builder()
        .partitionValue(reservationId)  // ë¶„ì‚° ì €ì¥
        .sortValue(eventId)
        .build()
)

// Optimistic Locking (ì¡°ê±´ë¶€ ì—…ë°ì´íŠ¸)
dynamoDbTable.updateItem(
    UpdateItemEnhancedRequest.builder(Reservation::class.java)
        .item(reservation)
        .ignoreNulls(true)
        .conditionExpression(
            Expression.builder()
                .expression("attribute_not_exists(reservationId) OR version = :v")
                .putExpressionValue(":v", AttributeValue.builder().n("1").build())
                .build()
        )
        .build()
)
```

**DynamoDB ì„ íƒ ì´ìœ **:
- **ë¬´ì œí•œ ìˆ˜í‰ í™•ì¥**: íŒŒí‹°ì…˜ ìë™ ìƒ¤ë”©
- **ì¼ê´€ëœ ë ˆì´í„´ì‹œ**: ë‹¨ì¼ ìë¦¿ìˆ˜ ë°€ë¦¬ì´ˆ (single-digit ms)
- **ì™„ì „ ê´€ë¦¬í˜•**: í”„ë¡œë¹„ì €ë‹, ë°±ì—…, ë³µêµ¬ ìë™í™”
- **ì´ë²¤íŠ¸ ìŠ¤íŠ¸ë¦¬ë°**: DynamoDB Streamsë¡œ ë³€ê²½ ìº¡ì²˜

### 4. ì™œ ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ì¸ê°€?

#### ë™ê¸° vs ë¹„ë™ê¸° ì•„í‚¤í…ì²˜

**ë™ê¸° í˜¸ì¶œì˜ ë¬¸ì œ (Tight Coupling)**:
```
reservation-api â†’ inventory-api â†’ payment-api
                                       â†“ (ì¥ì•  ë°œìƒ)
                                       X
                â†“ 
           ì „ì²´ ì‹¤íŒ¨ (Cascading Failure)
```

**ì´ë²¤íŠ¸ ê¸°ë°˜ (Loose Coupling)**:
```
reservation-api â†’ EventBridge â†’ SQS â†’ reservation-worker
                      â†“
                  (ë¹„ë™ê¸° ì²˜ë¦¬)
                      â†“
             inventory-api (ë…ë¦½ì  ì²˜ë¦¬)
             
ì¥ì :
1. ì¥ì•  ê²©ë¦¬ (Circuit Breaker)
2. ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜ (DLQ)
3. í™•ì¥ì„± (ì›Œì»¤ ë…ë¦½ ìŠ¤ì¼€ì¼ë§)
```

**Outbox Pattern êµ¬í˜„**:
```kotlin
@Transactional
suspend fun createReservation(...) {
    // 1. ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰
    val reservation = reservationRepository.save(...)
    
    // 2. ì´ë²¤íŠ¸ë¥¼ DBì— ì €ì¥ (ê°™ì€ íŠ¸ëœì­ì…˜)
    val outboxEvent = OutboxEvent(
        eventId = UUID.randomUUID().toString(),
        eventType = "reservation.created",
        payload = objectMapper.writeValueAsString(reservation),
        status = OutboxStatus.PENDING
    )
    outboxRepository.save(outboxEvent)
    
    // 3. ë³„ë„ ë°œí–‰ê¸°ê°€ í´ë§í•´ì„œ EventBridgeë¡œ ë°œí–‰
    // (at-least-once delivery ë³´ì¥)
}
```

### 5. ë©±ë“±ì„±(Idempotency) ì„¤ê³„

#### ë¬¸ì œ ìƒí™©
```
í´ë¼ì´ì–¸íŠ¸ â†’ [ë„¤íŠ¸ì›Œí¬ íƒ€ì„ì•„ì›ƒ] â†’ API
               â†“ (ì¬ì‹œë„)
í´ë¼ì´ì–¸íŠ¸ â†’ [ì„±ê³µ ì‘ë‹µ] â†’ API

ê²°ê³¼: ì¤‘ë³µ ì˜ˆì•½ ë°œìƒ âŒ
```

#### í•´ê²°ì±…: Idempotency Key
```kotlin
@Service
class IdempotencyService(
    private val idempotencyRepository: IdempotencyRepository
) {
    suspend fun <T, R> executeIdempotent(
        idempotencyKey: String,
        request: T,
        operation: suspend () -> R
    ): R {
        // 1. ìš”ì²­ í•´ì‹œ ìƒì„± (SHA-256)
        val requestHash = createHash(objectMapper.writeValueAsString(request))
        
        // 2. ê¸°ì¡´ ìš”ì²­ í™•ì¸
        val existing = idempotencyRepository.findByKey(idempotencyKey)
        if (existing != null) {
            if (existing.requestHash == requestHash) {
                // ë™ì¼ ìš”ì²­ â†’ ìºì‹œëœ ì‘ë‹µ ë°˜í™˜
                return objectMapper.readValue(existing.responseSnapshot)
            } else {
                // ë‹¤ë¥¸ ìš”ì²­ â†’ ì¶©ëŒ ì—ëŸ¬
                throw IdempotencyConflictException()
            }
        }
        
        // 3. ìƒˆ ìš”ì²­ ì‹¤í–‰ í›„ ì €ì¥ (TTL: 5ë¶„)
        val result = operation()
        idempotencyRepository.saveWithTtl(idempotencyKey, requestHash, result)
        return result
    }
}
```

**ì‹¤ì „ ì ìš©**:
```http
POST /v1/reservations
Idempotency-Key: 550e8400-e29b-41d4-a716-446655440000
Content-Type: application/json

{
  "eventId": "evt_2025_1001",
  "quantity": 2,
  "seatIds": ["A-12", "A-13"]
}

# ë™ì¼ ìš”ì²­ ì¬ì‹œë„ â†’ 201 Created (ê¸°ì¡´ ì‘ë‹µ ë°˜í™˜)
# ë‹¤ë¥¸ ìš”ì²­ (ê°™ì€ Key) â†’ 409 Conflict
```

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜ ê¹Šì´ ë“¤ì—¬ë‹¤ë³´ê¸°

### Traffic Tacos MSA ì „ì²´ êµ¬ì¡°

```
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   Frontend (React)  â”‚
                         â”‚   Port: 3000        â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ HTTPS/REST
                                    â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚    API Gateway      â”‚  Rate Limiting
                         â”‚  REST: 8000         â”‚  Authentication
                         â”‚  gRPC: 8001         â”‚  Request Routing
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚ gRPC (Proto-Contracts)
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                   â”‚                   â”‚
                â–¼                   â–¼                   â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Reservation API   â”‚ â”‚   Inventory API    â”‚ â”‚  Payment Sim API   â”‚
    â”‚  REST: 8010        â”‚ â”‚   REST: 8020       â”‚ â”‚   REST: 8030       â”‚
    â”‚  gRPC: 8011        â”‚ â”‚   gRPC: 8021       â”‚ â”‚   gRPC: 8031       â”‚
    â”‚  (THIS SERVICE)    â”‚ â”‚                    â”‚ â”‚                    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                      â”‚                       â”‚
              â”‚ gRPC                 â”‚ DynamoDB              â”‚ Webhook
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                       â”‚
                                     â”‚                       â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
                          â”‚    DynamoDB Tables     â”‚         â”‚
                          â”‚  - reservations        â”‚         â”‚
                          â”‚  - orders              â”‚         â”‚
                          â”‚  - idempotency (TTL)   â”‚         â”‚
                          â”‚  - outbox              â”‚         â”‚
                          â”‚  - inventory           â”‚         â”‚
                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                                                              â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ EventBridge Events
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚     AWS EventBridge                â”‚
    â”‚  - reservation.created             â”‚
    â”‚  - reservation.confirmed           â”‚
    â”‚  - reservation.expired             â”‚
    â”‚  - payment.approved/failed         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”œâ”€â–º EventBridge Scheduler (60s ë§Œë£Œ íƒ€ì´ë¨¸)
                  â”‚
                  â”œâ”€â–º SQS Queue (ë¹„ë™ê¸° ì²˜ë¦¬)
                  â”‚
                  â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Reservation Worker (K8s Job)     â”‚
    â”‚   Port: 8040                       â”‚
    â”‚   - Auto-scaling (KEDA)            â”‚
    â”‚   - Event processing               â”‚
    â”‚   - Expiry handling                â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Reservation API ë‚´ë¶€ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Reservation API (Port 8010)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚    REST     â”‚  â”‚    gRPC     â”‚  â”‚  Actuator   â”‚        â”‚
â”‚  â”‚ Controller  â”‚  â”‚   Service   â”‚  â”‚   /health   â”‚        â”‚
â”‚  â”‚   :8010     â”‚  â”‚   :8011     â”‚  â”‚  /metrics   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â”‚                â”‚                                  â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚         â”‚  â”‚  Spring Security          â”‚                   â”‚
â”‚         â”‚  â”‚  - JWT Validation         â”‚                   â”‚
â”‚         â”‚  â”‚  - OAuth2 Resource Server â”‚                   â”‚
â”‚         â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚         â”‚                â”‚                                  â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚         â””â”€â–ºâ”‚  Service Layer            â”‚                   â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚
â”‚            â”‚  â”‚ ReservationService  â”‚  â”‚                   â”‚
â”‚            â”‚  â”‚ - createReservation â”‚  â”‚                   â”‚
â”‚            â”‚  â”‚ - confirmReservationâ”‚  â”‚                   â”‚
â”‚            â”‚  â”‚ - cancelReservation â”‚  â”‚                   â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚
â”‚            â”‚             â”‚              â”‚                   â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚
â”‚            â”‚  â”‚ IdempotencyService  â”‚  â”‚ (SHA-256 Hash)    â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚
â”‚            â”‚             â”‚              â”‚                   â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚
â”‚            â”‚  â”‚ OutboxPublisher     â”‚  â”‚ (Event Sourcing)  â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚
â”‚            â”‚             â”‚              â”‚                   â”‚
â”‚            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚
â”‚            â”‚  â”‚ ExpiryService       â”‚  â”‚ (Scheduler)       â”‚
â”‚            â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                         â”‚                                   â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚         â”‚               â”‚               â”‚                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”            â”‚
â”‚    â”‚ DynamoDBâ”‚   â”‚InventoryGrpcâ”‚  â”‚EventBridgeâ”‚          â”‚
â”‚    â”‚Repositoryâ”‚  â”‚   Client    â”‚  â”‚ Scheduler â”‚          â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Observability                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚OpenTelemetry â”‚ â”‚  Prometheus  â”‚ â”‚   Micrometer â”‚       â”‚
â”‚  â”‚   Tracing    â”‚ â”‚   Metrics    â”‚ â”‚   Registry   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ í”Œë¡œìš°

#### 1. ì˜ˆì•½ ìƒì„± í”Œë¡œìš° (Create Reservation)

```
ì‚¬ìš©ì ìš”ì²­
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. API Gateway â†’ Reservation API                        â”‚
â”‚    POST /v1/reservations                                â”‚
â”‚    Headers: Authorization: Bearer <JWT>                 â”‚
â”‚             Idempotency-Key: <UUID>                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Security Layer                                       â”‚
â”‚    - JWT í† í° ê²€ì¦ (OAuth2 Resource Server)             â”‚
â”‚    - ì‚¬ìš©ì ê¶Œí•œ í™•ì¸                                    â”‚
â”‚    - Rate Limiting ì²´í¬                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Idempotency Check                                    â”‚
â”‚    - ìš”ì²­ í•´ì‹œ ìƒì„± (SHA-256)                           â”‚
â”‚    - ê¸°ì¡´ ìš”ì²­ í™•ì¸ (DynamoDB idempotency í…Œì´ë¸”)        â”‚
â”‚    - ì¤‘ë³µ ìš”ì²­ â†’ ìºì‹œ ì‘ë‹µ ë°˜í™˜ (201)                   â”‚
â”‚    - ì‹ ê·œ ìš”ì²­ â†’ ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Inventory Check (gRPC Call)                         â”‚
â”‚    CheckAvailabilityRequest {                           â”‚
â”‚      event_id: "evt_2025_1001"                         â”‚
â”‚      quantity: 2                                        â”‚
â”‚      seat_ids: ["A-12", "A-13"]                        â”‚
â”‚    }                                                    â”‚
â”‚    â†“                                                    â”‚
â”‚    inventory-api:8021 (Timeout: 250ms)                 â”‚
â”‚    â†“                                                    â”‚
â”‚    ì‘ë‹µ: available = true, available_seats = [...]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Hold Seats (gRPC Call)                              â”‚
â”‚    ReserveSeatRequest {                                 â”‚
â”‚      event_id: "evt_2025_1001"                         â”‚
â”‚      seat_ids: ["A-12", "A-13"]                        â”‚
â”‚      reservation_id: "rsv_abc123"                      â”‚
â”‚      user_id: "user_xyz"                               â”‚
â”‚    }                                                    â”‚
â”‚    â†“                                                    â”‚
â”‚    inventory-apiê°€ ì¢Œì„ HOLD ìƒíƒœë¡œ ë³€ê²½                â”‚
â”‚    (Conditional Updateë¡œ ë™ì‹œì„± ì œì–´)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Save Reservation (DynamoDB)                         â”‚
â”‚    Reservation {                                        â”‚
â”‚      reservationId: "rsv_abc123"        (PK)           â”‚
â”‚      eventId: "evt_2025_1001"           (SK)           â”‚
â”‚      userId: "user_xyz"                                 â”‚
â”‚      status: HOLD                                       â”‚
â”‚      holdExpiresAt: now() + 60s                        â”‚
â”‚      seatIds: ["A-12", "A-13"]                         â”‚
â”‚      idempotencyKey: "550e8400-..."                    â”‚
â”‚    }                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 7. Schedule Expiry (EventBridge Scheduler)             â”‚
â”‚    CreateScheduleRequest {                              â”‚
â”‚      name: "reservation-expiry-rsv_abc123"             â”‚
â”‚      scheduleExpression: "at(2025-01-01T12:01:00)"     â”‚
â”‚      target: {                                          â”‚
â”‚        arn: "arn:aws:events:::event-bus/..."          â”‚
â”‚        input: {                                         â”‚
â”‚          type: "reservation.expired"                   â”‚
â”‚          reservationId: "rsv_abc123"                   â”‚
â”‚        }                                                â”‚
â”‚      }                                                  â”‚
â”‚    }                                                    â”‚
â”‚    â†“                                                    â”‚
â”‚    60ì´ˆ í›„ ìë™ ë§Œë£Œ ì´ë²¤íŠ¸ ë°œí–‰                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8. Publish Event (Outbox Pattern)                      â”‚
â”‚    OutboxEvent {                                        â”‚
â”‚      eventId: "evt_uuid"                               â”‚
â”‚      eventType: "reservation.created"                  â”‚
â”‚      payload: { ...reservation }                       â”‚
â”‚      status: PENDING                                    â”‚
â”‚      createdAt: now()                                   â”‚
â”‚    }                                                    â”‚
â”‚    â†“                                                    â”‚
â”‚    ë³„ë„ Outbox Pollerê°€ EventBridgeë¡œ ë°œí–‰              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 9. Response                                             â”‚
â”‚    HTTP 201 Created                                     â”‚
â”‚    {                                                    â”‚
â”‚      "reservationId": "rsv_abc123",                    â”‚
â”‚      "status": "HOLD",                                  â”‚
â”‚      "holdExpiresAt": "2025-01-01T12:01:00Z",          â”‚
â”‚      "message": "Reservation created successfully"      â”‚
â”‚    }                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2. ì˜ˆì•½ í™•ì • í”Œë¡œìš° (Confirm Reservation)

```
ê²°ì œ ì™„ë£Œ í›„ â†’ Confirm ìš”ì²­
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Validate Reservation                                 â”‚
â”‚    - reservationId ì¡´ì¬ í™•ì¸                            â”‚
â”‚    - statusê°€ HOLDì¸ì§€ í™•ì¸                             â”‚
â”‚    - holdExpiresAt > now() í™•ì¸ (ë§Œë£Œë˜ì§€ ì•Šì•˜ëŠ”ì§€)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Commit Reservation (gRPC Call)                       â”‚
â”‚    CommitReservationRequest {                           â”‚
â”‚      reservation_id: "rsv_abc123"                      â”‚
â”‚      event_id: "evt_2025_1001"                         â”‚
â”‚      seat_ids: ["A-12", "A-13"]                        â”‚
â”‚      payment_intent_id: "pay_xyz789"                   â”‚
â”‚    }                                                    â”‚
â”‚    â†“                                                    â”‚
â”‚    inventory-apiê°€ ì¢Œì„ì„ SOLD ìƒíƒœë¡œ ë³€ê²½              â”‚
â”‚    (ìµœì¢… í™•ì •, ë˜ëŒë¦´ ìˆ˜ ì—†ìŒ)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Update Reservation Status                            â”‚
â”‚    reservation.status = CONFIRMED                       â”‚
â”‚    reservation.updatedAt = now()                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Create Order Record                                  â”‚
â”‚    Order {                                              â”‚
â”‚      orderId: "ord_xyz789"              (PK)           â”‚
â”‚      reservationId: "rsv_abc123"                       â”‚
â”‚      eventId: "evt_2025_1001"                          â”‚
â”‚      amount: 20000 (100 per seat)                      â”‚
â”‚      status: CONFIRMED                                  â”‚
â”‚      paymentIntentId: "pay_xyz789"                     â”‚
â”‚    }                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Cancel Scheduled Expiry                              â”‚
â”‚    DeleteScheduleRequest {                              â”‚
â”‚      name: "reservation-expiry-rsv_abc123"             â”‚
â”‚    }                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Publish Confirmation Event                           â”‚
â”‚    eventType: "reservation.confirmed"                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3. ìë™ ë§Œë£Œ í”Œë¡œìš° (Automatic Expiry)

```
60ì´ˆ ê²½ê³¼
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EventBridge Scheduler íŠ¸ë¦¬ê±°                            â”‚
â”‚    - ì •í™•íˆ holdExpiresAt ì‹œê°ì— ì‹¤í–‰                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EventBridge â†’ SQS â†’ Reservation Worker                  â”‚
â”‚    event: {                                             â”‚
â”‚      type: "reservation.expired",                      â”‚
â”‚      reservationId: "rsv_abc123"                       â”‚
â”‚    }                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Worker: Release Hold (gRPC Call)                        â”‚
â”‚    ReleaseHoldRequest {                                 â”‚
â”‚      reservation_id: "rsv_abc123"                      â”‚
â”‚      event_id: "evt_2025_1001"                         â”‚
â”‚      seat_ids: ["A-12", "A-13"]                        â”‚
â”‚      reason: "EXPIRED"                                  â”‚
â”‚    }                                                    â”‚
â”‚    â†“                                                    â”‚
â”‚    inventory-apiê°€ ì¢Œì„ì„ AVAILABLEë¡œ ë³µêµ¬              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Worker: Update Reservation Status                       â”‚
â”‚    reservation.status = EXPIRED                         â”‚
â”‚    reservation.updatedAt = now()                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… êµ¬í˜„ëœ ê¸°ëŠ¥

### Core Features (ì™„ë£Œ âœ…)

| ê¸°ëŠ¥ | ìƒíƒœ | ì„¤ëª… |
|-----|------|------|
| **ì˜ˆì•½ ìƒì„±** | âœ… | ì¢Œì„ ê°€ìš©ì„± í™•ì¸ â†’ HOLD ìƒíƒœ ì €ì¥ â†’ 60ì´ˆ íƒ€ì´ë¨¸ ë“±ë¡ |
| **ì˜ˆì•½ ì¡°íšŒ** | âœ… | ì˜ˆì•½ IDë¡œ ìƒì„¸ ì •ë³´ ì¡°íšŒ (ìƒíƒœ, ë§Œë£Œ ì‹œê° ë“±) |
| **ì˜ˆì•½ í™•ì •** | âœ… | ê²°ì œ ì™„ë£Œ í›„ ì¢Œì„ ìµœì¢… í™•ì • â†’ ì£¼ë¬¸ ìƒì„± |
| **ì˜ˆì•½ ì·¨ì†Œ** | âœ… | ì‚¬ìš©ì ìš”ì²­ ë˜ëŠ” ìë™ ë§Œë£Œë¡œ ì¢Œì„ ë³µêµ¬ |
| **60ì´ˆ ìë™ ë§Œë£Œ** | âœ… | EventBridge Scheduler ê¸°ë°˜ ì •í™•í•œ íƒ€ì´ë° |
| **ë©±ë“±ì„± ë³´ì¥** | âœ… | SHA-256 í•´ì‹œ ê¸°ë°˜ ì¤‘ë³µ ìš”ì²­ ì²˜ë¦¬ (TTL 5ë¶„) |
| **gRPC í†µì‹ ** | âœ… | inventory-apiì™€ ê³ ì„±ëŠ¥ í†µì‹  (P95 < 250ms) |
| **ì´ë²¤íŠ¸ ë°œí–‰** | âœ… | Outbox Patternìœ¼ë¡œ ì‹ ë¢°ì„± ìˆëŠ” ì´ë²¤íŠ¸ ì „íŒŒ |

### Infrastructure (ì™„ë£Œ âœ…)

| ê¸°ëŠ¥ | ìƒíƒœ | ì„¤ëª… |
|-----|------|------|
| **DynamoDB í†µí•©** | âœ… | Enhanced Client, Conditional Update |
| **EventBridge** | âœ… | ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸ ë²„ìŠ¤, Scheduler |
| **JWT ì¸ì¦** | âœ… | OAuth2 Resource Server, Spring Security |
| **OpenTelemetry** | âœ… | ë¶„ì‚° ì¶”ì , OTLP Exporter |
| **Prometheus** | âœ… | ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­, JVM ë©”íŠ¸ë¦­ |
| **Docker** | âœ… | Multi-stage ë¹Œë“œ, í”„ë¡œë•ì…˜ ìµœì í™” |
| **Local Dev Env** | âœ… | docker-compose (DynamoDB Local, LocalStack, Grafana) |

### API & Documentation (ì™„ë£Œ âœ…)

| ê¸°ëŠ¥ | ìƒíƒœ | ì„¤ëª… |
|-----|------|------|
| **REST API** | âœ… | RESTful ì—”ë“œí¬ì¸íŠ¸ (í¬íŠ¸ 8010) |
| **gRPC Server** | âœ… | ReservationService êµ¬í˜„ (í¬íŠ¸ 8011) |
| **OpenAPI Spec** | âœ… | Swagger UI, OpenAPI 3.0 |
| **Proto Contracts** | âœ… | ì¤‘ì•™í™”ëœ proto-contracts ì €ì¥ì†Œ |
| **Health Check** | âœ… | `/health`, `/actuator/health` |
| **Metrics Endpoint** | âœ… | `/actuator/prometheus` |

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### Prerequisites

```bash
# í•„ìˆ˜ ë„êµ¬ ì„¤ì¹˜ í™•ì¸
java -version       # Java 17+
docker --version    # Docker 20+
docker-compose --version

# AWS CLI ì„¤ì • (tacos í”„ë¡œí•„)
aws configure --profile tacos
```

### 1. ë¡œì»¬ ê°œë°œ í™˜ê²½ ì‹œì‘ (ì›í´ë¦­)

```bash
# ì „ì²´ ì¸í”„ë¼ + ë¹Œë“œ + ì‹¤í–‰
./run_local.sh start

# ì‹¤í–‰ë˜ëŠ” ì„œë¹„ìŠ¤:
# - DynamoDB Local (í¬íŠ¸ 8000)
# - LocalStack (í¬íŠ¸ 4566) - EventBridge, Scheduler ì‹œë®¬ë ˆì´ì…˜
# - Prometheus (í¬íŠ¸ 9090)
# - Grafana (í¬íŠ¸ 3000)
# - OTEL Collector (í¬íŠ¸ 4317/4318)
# - Reservation API (í¬íŠ¸ 8010/8011)
```

### 2. ê°œë³„ ëª…ë ¹ì–´ ì‚¬ìš©

```bash
# 1) ì¸í”„ë¼ë§Œ ì‹œì‘
./run_local.sh setup

# 2) DynamoDB í…Œì´ë¸” ìƒì„±
./run_local.sh tables

# 3) ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ
./run_local.sh build

# 4) ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
./run_local.sh run

# 5) ì „ì²´ ì¤‘ì§€
./run_local.sh stop

# 6) ë¡œê·¸ í™•ì¸
./run_local.sh logs
```

### 3. Proto íŒŒì¼ ìƒì„±

```bash
# Traffic Tacos proto-contracts ê¸°ë°˜ ì½”ë“œ ìƒì„±
./generate_proto.sh

# ìƒì„±ë˜ëŠ” íŒŒì¼:
# - build/generated/source/proto/main/java/
# - build/generated/source/proto/main/grpc/
# - build/generated/source/proto/main/grpckt/
```

### 4. ì„œë¹„ìŠ¤ í™•ì¸

```bash
# Health Check
curl http://localhost:8010/health
# {"status": "UP"}

# Swagger UI
open http://localhost:8010/swagger-ui.html

# Prometheus Metrics
curl http://localhost:8010/actuator/prometheus

# Grafana Dashboard
open http://localhost:3000  # admin/admin
```

---

## ğŸ“š API ë¬¸ì„œ

### REST API Endpoints

#### 1. ì˜ˆì•½ ìƒì„±
```http
POST /v1/reservations
Authorization: Bearer <JWT>
Idempotency-Key: 550e8400-e29b-41d4-a716-446655440000
Content-Type: application/json

{
  "eventId": "evt_2025_1001",
  "quantity": 2,
  "seatIds": ["A-12", "A-13"],
  "reservationToken": "rtkn_xyz789"
}
```

**ì‘ë‹µ (201 Created)**:
```json
{
  "reservationId": "rsv_abc123",
  "status": "HOLD",
  "holdExpiresAt": "2025-01-01T12:01:00Z",
  "message": "Reservation created successfully"
}
```

#### 2. ì˜ˆì•½ ì¡°íšŒ
```http
GET /v1/reservations/{reservationId}
Authorization: Bearer <JWT>
```

**ì‘ë‹µ (200 OK)**:
```json
{
  "reservationId": "rsv_abc123",
  "eventId": "evt_2025_1001",
  "quantity": 2,
  "seatIds": ["A-12", "A-13"],
  "status": "HOLD",
  "holdExpiresAt": "2025-01-01T12:01:00Z",
  "createdAt": "2025-01-01T12:00:00Z",
  "updatedAt": "2025-01-01T12:00:00Z"
}
```

#### 3. ì˜ˆì•½ í™•ì •
```http
POST /v1/reservations/confirm
Authorization: Bearer <JWT>
Idempotency-Key: 660e8400-e29b-41d4-a716-446655440001 (ì„ íƒ)
Content-Type: application/json

{
  "reservationId": "rsv_abc123",
  "paymentIntentId": "pay_xyz789"
}
```

**ì‘ë‹µ (200 OK)**:
```json
{
  "orderId": "ord_xyz789",
  "reservationId": "rsv_abc123",
  "status": "CONFIRMED",
  "message": "Reservation confirmed successfully"
}
```

#### 4. ì˜ˆì•½ ì·¨ì†Œ
```http
POST /v1/reservations/cancel
Authorization: Bearer <JWT>
Content-Type: application/json

{
  "reservationId": "rsv_abc123"
}
```

**ì‘ë‹µ (200 OK)**:
```json
{
  "reservationId": "rsv_abc123",
  "status": "CANCELLED",
  "message": "Reservation cancelled successfully"
}
```

### gRPC API (í¬íŠ¸ 8011)

```protobuf
// ReservationService ì •ì˜
service ReservationService {
  rpc CreateReservation(CreateReservationRequest) returns (CreateReservationResponse);
  rpc GetReservation(GetReservationRequest) returns (GetReservationResponse);
  rpc ConfirmReservation(ConfirmReservationRequest) returns (ConfirmReservationResponse);
  rpc CancelReservation(CancelReservationRequest) returns (CancelReservationResponse);
}
```

**gRPC í…ŒìŠ¤íŠ¸ (grpcurl)**:
```bash
# ì„œë¹„ìŠ¤ ëª©ë¡ ì¡°íšŒ
grpcurl -plaintext localhost:8011 list

# ë©”ì„œë“œ í˜¸ì¶œ
grpcurl -plaintext -d '{
  "event_id": "evt_2025_1001",
  "quantity": 2,
  "seat_ids": ["A-12", "A-13"]
}' localhost:8011 com.traffic_tacos.reservation.v1.ReservationService/CreateReservation
```

### ì—ëŸ¬ ì‘ë‹µ í¬ë§·

```json
{
  "error": {
    "code": "SEAT_UNAVAILABLE",
    "message": "Requested seats are not available",
    "timestamp": "2025-01-01T12:00:00Z",
    "path": "/v1/reservations",
    "traceId": "abc123def456"
  }
}
```

**ì—ëŸ¬ ì½”ë“œ**:
- `SEAT_UNAVAILABLE`: ì¢Œì„ ì´ìš© ë¶ˆê°€
- `RESERVATION_NOT_FOUND`: ì˜ˆì•½ ì—†ìŒ
- `RESERVATION_EXPIRED`: ì˜ˆì•½ ë§Œë£Œ
- `RESERVATION_ALREADY_CONFIRMED`: ì´ë¯¸ í™•ì •ë¨
- `IDEMPOTENCY_CONFLICT`: ë©±ë“±ì„± í‚¤ ì¶©ëŒ
- `INVENTORY_SERVICE_ERROR`: ì¬ê³  ì„œë¹„ìŠ¤ ì—ëŸ¬

---

## âš™ï¸ ì„¤ì • ê°€ì´ë“œ

### Environment Variables

```bash
# AWS ì„¤ì •
AWS_REGION=ap-northeast-2
AWS_PROFILE=tacos
AWS_DYNAMODB_ENDPOINT=http://localhost:8000  # ë¡œì»¬ ê°œë°œì‹œ

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •
SPRING_PROFILES_ACTIVE=local
SERVER_PORT=8010
GRPC_SERVER_PORT=8011

# gRPC í´ë¼ì´ì–¸íŠ¸ (Inventory Service)
GRPC_CLIENT_INVENTORY_SERVICE_ADDRESS=static://localhost:8021

# JWT ì¸ì¦ (í”„ë¡œë•ì…˜)
SPRING_SECURITY_OAUTH2_RESOURCESERVER_JWT_ISSUER_URI=https://auth.traffictacos.com

# Observability
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
MANAGEMENT_TRACING_SAMPLING_PROBABILITY=1.0

# Resilience4j
RESILIENCE4J_CIRCUITBREAKER_INSTANCES_INVENTORY_GRPC_FAILURE_RATE_THRESHOLD=50
RESILIENCE4J_TIMELIMITER_INSTANCES_INVENTORY_GRPC_TIMEOUT_DURATION=250ms
```

### application.properties

```properties
# Traffic Tacos MSA Port Allocation
server.port=8010
grpc.server.port=8011
grpc.client.inventory-service.address=localhost:8021

# DynamoDB Configuration (í”„ë¡œë•ì…˜)
aws.dynamodb.table.reservations=traffic-tacos-reservations
aws.dynamodb.table.orders=traffic-tacos-orders
aws.dynamodb.table.idempotency=traffic-tacos-idempotency
aws.dynamodb.table.outbox=traffic-tacos-outbox

# EventBridge Configuration
aws.eventbridge.bus-name=traffic-tacos-events
aws.eventbridge.scheduler-group=reservation-expiry

# Security (ë¡œì»¬ì—ì„œëŠ” ë¹„í™œì„±í™”)
spring.security.enabled=true
spring.security.oauth2.resourceserver.jwt.issuer-uri=${JWT_ISSUER_URI}

# Management/Actuator
management.endpoints.web.exposure.include=health,info,metrics,prometheus
management.endpoint.health.show-details=always
management.metrics.export.prometheus.enabled=true

# Logging
logging.level.com.traffictacos=DEBUG
logging.level.io.grpc=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%X{traceId:-},%X{spanId:-}] %logger{36} - %msg%n
```

### DynamoDB Table Schema

#### reservations í…Œì´ë¸”
```json
{
  "TableName": "traffic-tacos-reservations",
  "KeySchema": [
    { "AttributeName": "pk", "KeyType": "HASH" },   // reservationId
    { "AttributeName": "sk", "KeyType": "RANGE" }   // eventId
  ],
  "AttributeDefinitions": [
    { "AttributeName": "pk", "AttributeType": "S" },
    { "AttributeName": "sk", "AttributeType": "S" }
  ],
  "BillingMode": "PAY_PER_REQUEST"
}
```

#### idempotency í…Œì´ë¸” (TTL í™œì„±í™”)
```json
{
  "TableName": "traffic-tacos-idempotency",
  "KeySchema": [
    { "AttributeName": "idempotencyKey", "KeyType": "HASH" }
  ],
  "AttributeDefinitions": [
    { "AttributeName": "idempotencyKey", "AttributeType": "S" }
  ],
  "TimeToLiveSpecification": {
    "Enabled": true,
    "AttributeName": "expiresAt"  // 5ë¶„ í›„ ìë™ ì‚­ì œ
  }
}
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### Test Pyramid

```
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â•±              â•²
         â•±  E2E Tests     â•²    10% - Testcontainers + gRPC stub
        â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²
       â•±                    â•²
      â•±  Integration Tests   â•²  30% - DynamoDB Local + MockWebServer
     â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²
    â•±                          â•²
   â•±        Unit Tests          â•² 60% - MockK + Kotest
  â•±â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•²
```

### 1. Unit Tests

```bash
# ì „ì²´ ìœ ë‹› í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# íŠ¹ì • í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ ì‹¤í–‰
./gradlew test --tests ReservationServiceTest

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±
./gradlew jacocoTestReport
open build/reports/jacoco/test/html/index.html
```

**ì˜ˆì œ í…ŒìŠ¤íŠ¸**:
```kotlin
@Test
fun `should create reservation with valid request`() = runTest {
    // Given
    val request = CreateReservationRequest(
        eventId = "evt_123",
        quantity = 2,
        seatIds = listOf("A-12", "A-13")
    )
    
    coEvery { inventoryGrpcService.checkAvailability(any()) } returns 
        CheckAvailabilityResponse(available = true)
    coEvery { inventoryGrpcService.reserveSeat(any()) } returns 
        ReserveSeatResponse(status = HoldStatus.HOLD_STATUS_ACTIVE)
    
    // When
    val response = reservationService.createReservation(request, "user123", "idem123")
    
    // Then
    assertEquals(ReservationStatus.HOLD, response.status)
    assertNotNull(response.reservationId)
    assertTrue(response.holdExpiresAt.isAfter(Instant.now()))
}
```

### 2. Integration Tests

```bash
# í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰ (Testcontainers ì‚¬ìš©)
./gradlew integrationTest

# Dockerê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•¨
docker ps
```

**ì˜ˆì œ í†µí•© í…ŒìŠ¤íŠ¸**:
```kotlin
@SpringBootTest
@Testcontainers
class ReservationControllerIntegrationTest {
    
    @Container
    val dynamoDbContainer = GenericContainer<Nothing>("amazon/dynamodb-local:latest")
        .apply { withExposedPorts(8000) }
    
    @Test
    fun `should handle end-to-end reservation flow`() = runTest {
        // 1. Create reservation
        val createResponse = webTestClient
            .post()
            .uri("/v1/reservations")
            .header("Idempotency-Key", UUID.randomUUID().toString())
            .bodyValue(createRequest)
            .exchange()
            .expectStatus().isCreated
            .returnResult<CreateReservationResponse>()
            .responseBody.awaitFirst()
        
        // 2. Get reservation
        val getResponse = webTestClient
            .get()
            .uri("/v1/reservations/${createResponse.reservationId}")
            .exchange()
            .expectStatus().isOk
            .returnResult<ReservationDetailsResponse>()
            .responseBody.awaitFirst()
        
        assertEquals(ReservationStatus.HOLD, getResponse.status)
    }
}
```

### 3. Performance Tests

```bash
# Gatling ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
./gradlew gatlingRun

# JMeter í…ŒìŠ¤íŠ¸
./gradlew jmeterRun
```

---

## ğŸ“Š ê´€ì¸¡ì„±ê³¼ ëª¨ë‹ˆí„°ë§

### OpenTelemetry Tracing

```kotlin
// ìë™ ê³„ì¸¡ (Spring Boot Auto-configuration)
@Service
class ReservationService {
    @WithSpan  // ìˆ˜ë™ span ì¶”ê°€ (í•„ìš”ì‹œ)
    suspend fun createReservation(...) {
        // ìë™ìœ¼ë¡œ trace IDì™€ span IDê°€ ë¡œê·¸ì— í¬í•¨ë¨
        logger.info("Creating reservation")  
        // [traceId=abc123,spanId=def456]
    }
}
```

**Trace ì˜ˆì œ**:
```
Trace ID: abc123def456
â”œâ”€ gateway-api: POST /api/v1/reservations (150ms)
â”‚  â”œâ”€ reservation-api: POST /v1/reservations (120ms)
â”‚  â”‚  â”œâ”€ idempotency-check (5ms)
â”‚  â”‚  â”œâ”€ inventory-grpc: CheckAvailability (40ms)
â”‚  â”‚  â”œâ”€ inventory-grpc: ReserveSeat (35ms)
â”‚  â”‚  â”œâ”€ dynamodb: PutItem (15ms)
â”‚  â”‚  â””â”€ eventbridge-scheduler: CreateSchedule (10ms)
â”‚  â””â”€ response (10ms)
```

### Prometheus Metrics

**ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­**:
```kotlin
@Service
class ReservationService(
    private val meterRegistry: MeterRegistry
) {
    private val reservationCounter = meterRegistry.counter(
        "reservation.created.total",
        Tags.of("status", "success")
    )
    
    suspend fun createReservation(...) {
        // ...
        reservationCounter.increment()
    }
}
```

**ì£¼ìš” ë©”íŠ¸ë¦­**:
```promql
# HTTP ìš”ì²­ ë ˆì´í„´ì‹œ
http_server_requests_seconds_bucket{uri="/v1/reservations",method="POST"}

# gRPC í´ë¼ì´ì–¸íŠ¸ ë ˆì´í„´ì‹œ
grpc_client_duration_seconds{service="InventoryService",method="CheckAvailability"}

# ì˜ˆì•½ ìƒíƒœë³„ ì¹´ìš´íŠ¸
reservation_status_total{status="HOLD"}
reservation_status_total{status="CONFIRMED"}

# JVM ë©”íŠ¸ë¦­
jvm_memory_used_bytes{area="heap"}
jvm_gc_pause_seconds_sum
```

### Grafana Dashboard

**ëŒ€ì‹œë³´ë“œ êµ¬ì„±**:
1. **Overview Panel**: ì „ì²´ ìš”ì²­ ìˆ˜, ì—ëŸ¬ìœ¨, P95 ë ˆì´í„´ì‹œ
2. **Business Metrics**: ì˜ˆì•½ ìƒì„±/í™•ì •/ì·¨ì†Œ ì¶”ì´
3. **gRPC Performance**: ì„œë¹„ìŠ¤ë³„ í˜¸ì¶œ ë ˆì´í„´ì‹œ
4. **JVM Health**: Heap ì‚¬ìš©ëŸ‰, GC ì‹œê°„
5. **Error Analysis**: ì—ëŸ¬ ì½”ë“œë³„ ë¶„í¬

```bash
# Grafana ì ‘ì†
open http://localhost:3000
# ID: admin, PW: admin

# í”„ë¡œë©”í…Œìš°ìŠ¤ ë°ì´í„°ì†ŒìŠ¤ ìë™ êµ¬ì„±ë¨
# Dashboard â†’ Import â†’ ì—…ë¡œë“œ (grafana/dashboards/*.json)
```

---

## ğŸ­ í”„ë¡œë•ì…˜ ìš´ì˜ ê°€ì´ë“œ

### 1. ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

**Pre-deployment**:
- [ ] AWS ë¦¬ì†ŒìŠ¤ í™•ì¸ (DynamoDB, EventBridge, IAM Role)
- [ ] Secrets Managerì— ë¯¼ê° ì •ë³´ ì €ì¥
- [ ] ë¡œë“œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ (30k RPS ê²€ì¦)
- [ ] ë¡¤ë°± ê³„íš ìˆ˜ë¦½

**Deployment**:
- [ ] Blue-Green ë°°í¬ ë˜ëŠ” Canary ë°°í¬
- [ ] Health Check í†µê³¼ í™•ì¸
- [ ] Smoke Test ì‹¤í–‰
- [ ] ë©”íŠ¸ë¦­ ëª¨ë‹ˆí„°ë§ (5ë¶„ê°„)

**Post-deployment**:
- [ ] ì—ëŸ¬ìœ¨ < 1% í™•ì¸
- [ ] P95 ë ˆì´í„´ì‹œ < 120ms í™•ì¸
- [ ] ì•ŒëŒ ì •ìƒ ë™ì‘ í™•ì¸

### 2. JVM íŠœë‹

```bash
# í”„ë¡œë•ì…˜ JVM ì˜µì…˜
java \
  -Xms2g -Xmx2g \                          # Heap í¬ê¸° ê³ ì • (GC ìµœì í™”)
  -XX:+UseG1GC \                           # G1 GC ì‚¬ìš© (ì €ì§€ì—°)
  -XX:MaxGCPauseMillis=100 \               # GC ì¼ì‹œì •ì§€ 100ms ì´í•˜
  -XX:+UseStringDeduplication \            # ë¬¸ìì—´ ì¤‘ë³µ ì œê±°
  -XX:+HeapDumpOnOutOfMemoryError \        # OOM ì‹œ Heap Dump
  -XX:HeapDumpPath=/var/log/heapdump \
  -Dspring.profiles.active=prod \
  -jar reservation-api.jar
```

### 3. Kubernetes Deployment

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: reservation-api
spec:
  replicas: 3
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 0
  template:
    spec:
      containers:
      - name: reservation-api
        image: reservation-api:1.0.0
        ports:
        - containerPort: 8010
          name: http
        - containerPort: 8011
          name: grpc
        resources:
          requests:
            memory: "2Gi"
            cpu: "1000m"
          limits:
            memory: "4Gi"
            cpu: "2000m"
        livenessProbe:
          httpGet:
            path: /actuator/health/liveness
            port: 8010
          initialDelaySeconds: 30
          periodSeconds: 10
        readinessProbe:
          httpGet:
            path: /actuator/health/readiness
            port: 8010
          initialDelaySeconds: 10
          periodSeconds: 5
        env:
        - name: SPRING_PROFILES_ACTIVE
          value: "prod"
        - name: AWS_REGION
          value: "ap-northeast-2"
---
apiVersion: v1
kind: Service
metadata:
  name: reservation-api
spec:
  type: ClusterIP
  ports:
  - name: http
    port: 8010
    targetPort: 8010
  - name: grpc
    port: 8011
    targetPort: 8011
  selector:
    app: reservation-api
```

### 4. Horizontal Pod Autoscaling

```yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: reservation-api-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: reservation-api
  minReplicas: 3
  maxReplicas: 20
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
  - type: Pods
    pods:
      metric:
        name: http_requests_per_second
      target:
        type: AverageValue
        averageValue: "1000"  # Podë‹¹ 1k RPS
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™” ê¸°ë²•

### 1. ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë° ìµœì í™”

```kotlin
// âŒ ë¸”ë¡œí‚¹ ì½”ë“œ (í”¼í•´ì•¼ í•¨)
fun createReservation(...): Mono<Response> {
    val availability = inventoryClient.check(...).block()  // ë¸”ë¡œí‚¹!
    val reservation = repository.save(...).block()         // ë¸”ë¡œí‚¹!
    return Mono.just(Response(reservation))
}

// âœ… ì™„ì „ ë…¼ë¸”ë¡œí‚¹
suspend fun createReservation(...): Response {
    val availability = inventoryClient.check(...)  // ì½”ë£¨í‹´ suspend
    val reservation = repository.save(...)         // ì½”ë£¨í‹´ suspend
    return Response(reservation)
}
```

### 2. DynamoDB ìµœì í™”

```kotlin
// âŒ Sequential ì¡°íšŒ (N+1 ë¬¸ì œ)
suspend fun getReservationsWithOrders(ids: List<String>): List<Data> {
    return ids.map { id ->
        val reservation = reservationRepo.findById(id)  // Në²ˆ í˜¸ì¶œ
        val order = orderRepo.findByReservation(id)     // Në²ˆ í˜¸ì¶œ
        Data(reservation, order)
    }
}

// âœ… Batch Get
suspend fun getReservationsWithOrders(ids: List<String>): List<Data> {
    val reservations = reservationRepo.batchGet(ids)  // 1ë²ˆ í˜¸ì¶œ (ìµœëŒ€ 100ê°œ)
    val orders = orderRepo.batchGet(...)
    return reservations.zip(orders)
}
```

### 3. gRPC Connection Pooling

```kotlin
@Configuration
class GrpcConfig {
    @Bean
    fun inventoryChannel(): ManagedChannel {
        return ManagedChannelBuilder
            .forAddress("inventory-api", 8021)
            .usePlaintext()
            .maxInboundMessageSize(10 * 1024 * 1024)  // 10MB
            .keepAliveTime(30, TimeUnit.SECONDS)      // Keep-alive
            .keepAliveTimeout(10, TimeUnit.SECONDS)
            .build()
    }
}
```

### 4. Caffeine Cache

```kotlin
@Configuration
class CacheConfig {
    @Bean
    fun reservationCache(): Cache<String, Reservation> {
        return Caffeine.newBuilder()
            .maximumSize(10_000)
            .expireAfterWrite(5, TimeUnit.MINUTES)
            .recordStats()
            .build()
    }
}

@Service
class ReservationService(
    private val cache: Cache<String, Reservation>
) {
    suspend fun getReservation(id: String): Reservation {
        return cache.get(id) {
            reservationRepository.findById(id) ?: throw NotFoundException()
        }
    }
}
```

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### 1. gRPC Connection Timeout

**ì¦ìƒ**:
```
io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 250ms
```

**í•´ê²°**:
```kotlin
// íƒ€ì„ì•„ì›ƒ ì¦ê°€ (ì‹ ì¤‘í•˜ê²Œ)
withTimeout(500) {  // 250ms â†’ 500ms
    inventoryStub.checkAvailability(request)
}

// Circuit Breaker ì„¤ì • í™•ì¸
resilience4j.circuitbreaker.instances.inventory-grpc.timeout-duration=500ms
```

### 2. DynamoDB Throttling

**ì¦ìƒ**:
```
ProvisionedThroughputExceededException: Rate of requests exceeds the allowed throughput
```

**í•´ê²°**:
```bash
# On-demand ëª¨ë“œë¡œ ì „í™˜
aws dynamodb update-table \
  --table-name traffic-tacos-reservations \
  --billing-mode PAY_PER_REQUEST \
  --profile tacos

# ë˜ëŠ” Auto Scaling ì„¤ì •
aws application-autoscaling register-scalable-target \
  --service-namespace dynamodb \
  --resource-id "table/traffic-tacos-reservations" \
  --scalable-dimension "dynamodb:table:ReadCapacityUnits" \
  --min-capacity 5 \
  --max-capacity 100
```

### 3. Memory Leak

**ì¦ìƒ**:
```
java.lang.OutOfMemoryError: Java heap space
```

**ì§„ë‹¨**:
```bash
# Heap Dump ë¶„ì„
jmap -dump:live,format=b,file=heap.bin <PID>

# Eclipse MATë¡œ ë¶„ì„
# https://www.eclipse.org/mat/

# ì¼ë°˜ì ì¸ ì›ì¸:
# - WebClient/gRPC Channelì´ ë‹«íˆì§€ ì•ŠìŒ
# - í° ê°ì²´ë¥¼ ìºì‹œì— ë¬´í•œì • ì €ì¥
# - Reactive Streamì´ disposeë˜ì§€ ì•ŠìŒ
```

**í•´ê²°**:
```kotlin
// âœ… ë¦¬ì†ŒìŠ¤ ì •ë¦¬
@PreDestroy
fun cleanup() {
    grpcChannel.shutdown().awaitTermination(5, TimeUnit.SECONDS)
    cache.invalidateAll()
}
```

### 4. Reactive Debugging

```kotlin
// Reactor Contextì— trace ì •ë³´ ì¶”ê°€
Hooks.onOperatorDebug()  // ê°œë°œ í™˜ê²½ì—ì„œë§Œ (ì„±ëŠ¥ ì˜í–¥)

// ë˜ëŠ” Checkpoint ì‚¬ìš©
suspend fun createReservation(...) {
    inventoryClient.check(...)
        .checkpoint("after-inventory-check")  // ì—ëŸ¬ ë°œìƒ ì‹œ ìœ„ì¹˜ í‘œì‹œ
    // ...
}
```

---

## ğŸ¤ Contributing

### Branch Strategy

```
main (í”„ë¡œë•ì…˜)
  â”œâ”€ develop (ê°œë°œ)
  â”‚   â”œâ”€ feature/add-cache
  â”‚   â”œâ”€ feature/improve-metrics
  â”‚   â””â”€ bugfix/fix-timeout
  â””â”€ hotfix/critical-bug
```

### Commit Convention

```bash
# ì»¤ë°‹ ë©”ì‹œì§€ ê·œì¹™ (Conventional Commits)
<type>(<scope>): <subject>

# ì˜ˆ:
feat(reservation): add idempotency support
fix(grpc): resolve connection timeout issue
docs(readme): update architecture diagram
perf(dynamodb): optimize batch operations
```

### Pull Request Template

```markdown
## ë³€ê²½ ì‚¬í•­
- [ ] ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€
- [ ] ë²„ê·¸ ìˆ˜ì •
- [ ] ì„±ëŠ¥ ê°œì„ 
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸

## í…ŒìŠ¤íŠ¸
- [ ] ìœ ë‹› í…ŒìŠ¤íŠ¸ ì¶”ê°€/ì—…ë°ì´íŠ¸
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ë¡œë“œ í…ŒìŠ¤íŠ¸ ì™„ë£Œ (í•„ìš”ì‹œ)

## ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì½”ë“œ ë¦¬ë·° ì™„ë£Œ
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ í†µê³¼
- [ ] ë¬¸ì„œ ì—…ë°ì´íŠ¸
```

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

This project is licensed under the MIT License.

---

## ğŸ™ Acknowledgments

ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒ ê¸°ìˆ ê³¼ ì»¤ë®¤ë‹ˆí‹°ì˜ ì˜í–¥ì„ ë°›ì•˜ìŠµë‹ˆë‹¤:

- **Spring Boot & WebFlux**: ë¦¬ì•¡í‹°ë¸Œ í”„ë¡œê·¸ë˜ë°ì˜ í˜
- **Kotlin Coroutines**: ìš°ì•„í•œ ë¹„ë™ê¸° ì²˜ë¦¬
- **gRPC & Protobuf**: ê³ ì„±ëŠ¥ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ í†µì‹ 
- **AWS Managed Services**: ìš´ì˜ ë¶€ë‹´ ìµœì†Œí™”
- **OpenTelemetry**: ê´€ì¸¡ ê°€ëŠ¥ì„± í‘œì¤€í™”

---

## ğŸ“ Contact & Support

- **Issues**: [GitHub Issues](https://github.com/traffic-tacos/reservation-api/issues)
- **Docs**: `/docs` ë””ë ‰í† ë¦¬ì˜ ìƒì„¸ ê°€ì´ë“œ
- **Monitoring**: Grafana ëŒ€ì‹œë³´ë“œì—ì„œ ì‹¤ì‹œê°„ ìƒíƒœ í™•ì¸

---

**Built with â¤ï¸ by Traffic Tacos Team**

*"ëŒ€ê·œëª¨ íŠ¸ë˜í”½ì„ ìš°ì•„í•˜ê²Œ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ë°°ìš°ëŠ” ì—¬ì •"*
