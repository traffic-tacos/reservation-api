# Minimal Application Configuration
spring.application.name=reservation-api
server.port=8080

# AWS Configuration
aws.region=ap-northeast-2
aws.dynamodb.endpoint=http://localhost:8000
aws.eventbridge.endpoint=http://localhost:4566

# gRPC Configuration
grpc.client.inventory.address=localhost:9090
grpc.client.inventory.negotiation-type=plaintext

# Security (disabled for local testing)
spring.security.oauth2.resourceserver.jwt.issuer-uri=http://localhost:8080/auth/realms/traffic-tacos

# Observability Configuration
management.endpoints.web.exposure.include=health,info,metrics,prometheus,httptrace,env,configprops
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true
management.metrics.distribution.percentiles-histogram.http.server.requests=true
management.metrics.distribution.percentiles.http.server.requests=0.5,0.9,0.95,0.99
management.metrics.distribution.sla.http.server.requests=100ms,500ms,1s,5s
management.metrics.web.server.request.autotime.enabled=true

# Micrometer Tracing
management.tracing.enabled=true
management.tracing.sampling.probability=1.0
management.metrics.distribution.percentiles-histogram.grpc.client.duration=true
management.metrics.distribution.percentiles.grpc.client.duration=0.5,0.9,0.95,0.99

# OTLP Configuration (for production use with observability platforms)
management.otlp.metrics.export.enabled=false
management.otlp.tracing.export.enabled=false
management.otlp.metrics.export.url=http://localhost:4318/v1/metrics
management.otlp.tracing.export.url=http://localhost:4318/v1/traces

# Logging Configuration
logging.level.com.traffictacos.reservation=INFO
logging.level.org.springframework.security=DEBUG
logging.level.io.grpc=INFO
logging.level.software.amazon.awssdk=WARN
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level [%X{traceId:-},%X{spanId:-}] %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level [%X{traceId:-},%X{spanId:-}] %logger{36} - %msg%n

# Structured Logging (JSON format for production)
# logging.config=classpath:logback-spring.xml

# Custom Application Metrics
app.metrics.custom.enabled=true
app.metrics.business.enabled=true
app.metrics.performance.enabled=true

# Health Check Configuration
management.health.custom.enabled=true
management.health.diskspace.enabled=true
management.health.dynamodb.enabled=true
management.health.grpc.enabled=true

# Performance Monitoring
app.performance.monitoring.enabled=true
app.performance.slow.request.threshold=1000ms
app.performance.very.slow.request.threshold=5000ms
